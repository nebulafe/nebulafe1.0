<html ng-app="nebulafeAdmin">
<%- include ./utils/common_head.ejs %>
<body>
<%- include ./utils/header.ejs %>
<div class="container">
    <div class="card">
        <div class="resource-box" ng-controller="add_resource">

            <form class="row" id="resource_form">
                <div class="row ">
                    <label class="col col-left" for="">
                        <span class="txt">所属课程</span>
                    </label>

                    <div class="col">
                        <select name="course" class="input input-mid">
                            <% courses.forEach(function(val){ %>
                            <option value="<%- val.id %>"><%- val.name %></option>
                            <% }) %>
                        </select>
                    </div>

                </div>
                <div class="row ">
                    <label class="col col-left" for="">
                        <span class="txt">教师姓名</span>
                    </label>

                    <div class="col">
                        <input type="text" class="input input-mid" name="artist" ng-model="artist" placeholder="教师姓名"/>
                    </div>

                </div>
                <div class="row ">
                    <label class="col col-left " for="">
                        <span class="txt">资源名称</span>
                    </label>

                    <div class="col">
                        <input type="text" class="input input-mid" name="title" ng-model="title" placeholder="教师姓名"/>
                    </div>

                </div>
                <div class="row ">
                    <label class="col  col-left" for="">
                        <span class="txt">预览图</span>
                    </label>

                    <div class="col">
                        <img ng-src="{{teacher.img}}" alt="暂时没有预览图"/>
                    </div>
                    <div class="col">
                        <label for="file_poster" class="radiusBtn square style_2 auto short-height">上传文件</label>
                        <input type="file" id="file_poster" name="poster" class="hide"/>
                    </div>
                </div>
                <div class="row ">
                    <label class="col  col-left" for="">
                        <span class="txt">webmv格式资源</span>
                    </label>

                    <div class="col">
                        <label for="file_webmv" class="radiusBtn square style_2 auto short-height">上传文件</label>
                        <input type="file" name="webmv" id="file_webmv" class="hide"/>
                    </div>

                </div>
                <div class="row ">
                    <label class="col  col-left" for="">
                        <span class="txt">ogv格式资源</span>
                    </label>

                    <div class="col">
                        <label for="file_ogv" class="radiusBtn square style_2 auto short-height">上传文件</label>
                        <input type="file" name="ogv" id="file_ogv" class="hide"/>
                    </div>

                </div>
                <div class="row ">
                    <label class="col  col-left" for="">
                        <span class="txt">m4v格式资源</span>
                    </label>

                    <div class="col">
                        <label for="file_m4v" class="radiusBtn square style_2 auto short-height">上传文件</label>
                        <input type="file" name="m4v" id="file_m4v" class="hide"/>
                    </div>

                </div>

                <div class="row ">
                    <label class="col col-left" for="">
                        <span class="txt">教师介绍</span>
                    </label>

                    <div class="col col-right">
                        <textarea  class="input input-mid" style="resize: vertical; min-height: 80px; line-height: 1.7;" name="description" placeholder="资源的介绍"></textarea>
                    </div>
                </div>

                <div class="">
                    <span type="button" class="radiusBtn square style_1" id="submit_btn">提交</span>
                </div>
            </form>

        </div>

    </div>

</div>
</body>
<script>
    (function(){
        var filesArr = {};
        $('#resource_form').on('change',function(ev){
           var tar = $(ev.target);
            if(ev.target.tagName.toLowerCase() === 'input' && tar.attr('type') == 'file'){
                var name = tar.attr('name');
                filesArr[name] = ev.target.files[0];
                console.log(filesArr);
                //todo 显示缩略图
            }
        });
        $('#submit_btn').on('click',function(ev){

        });
    })();
</script>
<%- include ./utils/templates.ejs %>

</html>

